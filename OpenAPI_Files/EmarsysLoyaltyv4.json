{"basePath":"/api/v4","x-sap-shortText":"The Loyalty Contact API helps you establish and run your customer loyalty program.","x-sap-stateInfo":{"state":"Active"},"produces":["application/json"],"consumes":["application/json"],"securityDefinitions":{"apikey":{"type":"apiKey","in":"header","name":"x-api-key","description":"The security scheme of Emarsys Loyalty API needs an API key named x-api-key to be sent in the request header."}},"x-sap-api-type":"REST","x-stoplight":{"id":"f2nl283kym2jf"},"x-servers":[{"url":"contact-api.loyalsys.io"}],"externalDocs":{"description":"For more information, please visit our official SAP Emarsys developer portal.","url":"https://dev.emarsys.com/docs/loyalty-api-v4"},"definitions":{"activityElement":{"description":"activity elements i.e. sub activities","properties":{"activityTime":{"description":"Indicates the time when the sub-activity occurred (UTC time in milliseconds since unix epoch).","format":"int64","type":"integer"},"isBenefitRemoval":{"description":"For additional benefits which are added or removed, a flag indicating if this element describes an additional benefit removal - otherwise it's an addition. Only appears for additional benefits activities.","type":"boolean"},"isCanceled":{"description":"If true, the sub-activity cancels another activity. It can be used to show a strikethrough.","type":"boolean"},"planName":{"description":"Holds the plan name which the user was changed to, if relevant to the activity.","type":"string"},"pointsInfo":{"additionalProperties":{"$ref":"#/definitions/pointsInfo"},"description":"The point values and types which were received or removed. There can be more than one type in a single activity element. The `pointsInfo` types can be: `status` , `pointsToSpend` or `cashback`.","enum":["status"," pointsToSpend"," cashback"],"example":{"status":{"points":10}},"type":"object"},"text":{"description":"The description of the sub-activity.\n- for customer support entries we return the text the customer entered.\n- for exclusive accesses, vouchers and plan changes we return the name.\n- for other cases we do not return anything here.","type":"string"},"tierName":{"description":"Holds the tier which the user was upgraded/downgraded to, if relevant to the activity.","type":"string"},"type":{"description":"The type of the sub-activity.","enum":["purchase_points"," purchase_points_removed_on_return"," bonus_points"," multiply_points"," status_upgrade"," voucher"," redemption_points"," support_add_points"," support_remove_points"," redemption_free "," tier_calc_remove_points "],"type":"string"}},"required":["type","activityTime","isCanceled"],"title":"activityElement","type":"object"},"activityElements":{"description":"The elements or sub-activities that make up the main activity.","items":{"$ref":"#/definitions/activityElement"},"title":"activityElements","type":"array"},"activityEntry":{"description":"Single activity entry","properties":{"activityTime":{"description":"The time when the activity occurred (UTC time in milliseconds since unix epoch).","format":"int64","type":"integer"},"description":{"description":"Additional information about the activity.","type":"string"},"elements":{"$ref":"#/definitions/activityElements"},"groupActivityType":{"description":"If this is a group activity, then it can be one of the following types: join, leave, no_change","type":"string"},"isForMember":{"description":"Indicates whether this activity is for a member or non-member. Can be used to determine which text to show.","type":"boolean"},"isFromGroup":{"description":"Indicates whether this is a group activity.","type":"boolean"},"isGroupActivityAboutThisContact":{"description":"If this is a group activity, then whether or not the group activity is concerning thing contact. e.g. if he is the one who joined the group","type":"boolean"},"name":{"description":"The activity name.","type":"string"},"orderId":{"description":"If this is an activity of type 'purchase', then this will have the orderId on the customer system.","type":"string"},"status":{"description":"The current status of the activity in the activity lifecycle.","enum":["pending"," canceled"," removed"," confirmed"," expired"],"type":"string"},"type":{"description":"The type of activity, such as 'purchase'.","enum":["online_purchase"," action"," redemption"," customer_support"," points_expiration"," exclusive_redemption_free "],"type":"string"}},"required":["type","name","description","status","activityTime","elements","isForMember"],"title":"activityEntry","type":"object"},"additionalBenefit":{"description":"additionalBenefit\nA single benefit of voucher or exclusive type, which can be given to contacts in this plan as an additional benefit specific to them only (not everyone in the tier, as with tier benefits).","properties":{"id":{"description":"The benefit id.","type":"string"},"name":{"description":"The benefit name.","type":"string"}},"required":["id","name"],"type":"object"},"benefit":{"description":"A specific single benefit to contacts in this tier. This can be a purchase benefit (from buying) or a fixed benefit (by virtue of being in a tier).","properties":{"description":{"description":"A description of the benefit.","type":"string"},"earningPointsRates":{"additionalProperties":{"$ref":"#/definitions/earningPointsRate"},"description":"For purchase benefits there is a map which has the points earned by currency. The currency code is by the same ISO standard used in the x-currency parameter","type":"object"},"name":{"description":"The benefit name.","type":"string"}},"required":["name","description"],"title":"benefit","type":"object"},"contact":{"description":"The end user of the loyalty platform, the loyalty account holder.","properties":{"groupName":{"description":"If the contact is a member of a loyalty group, then this is the name of that group","type":"string"},"hasJoinedProgram":{"description":"A flag indicating whether the contact has joined the loyalty program.","type":"boolean"},"id":{"description":"Unique identifier of the user, such as their userID, username or email. The same id must be used in all communications with the loyalty platform.","type":"string"},"isActive":{"description":"Indicates whether the contact is frozen or active and can continue taking part in the program.","type":"boolean"},"isTierCalcTier":{"description":"This flag indicates whether the user is in this tier after the periodic tier calculations i.e. if true then indicates that he could have dropped to this tier by not meeting periodically calculated tier requirements.","type":"boolean"},"joinDate":{"description":"Indicates when the user officially joined the program. This may differ from the creation date.","format":"int64","type":"integer"},"nextTier":{"$ref":"#/definitions/tier"},"planId":{"description":"The planId of the loyalty plan that the contact is in.","type":"string"},"points":{"$ref":"#/definitions/points"},"purchases":{"description":"The number of purchases the contact has made at the customer, since entering the current tier. This value goes to zero on every tier change.","format":"int64","type":"integer"},"tier":{"$ref":"#/definitions/tier"}},"required":["id","planId","tier","nextTier","points","joinDate","hasJoinedProgram","isActive","purchases"],"title":"contact","type":"object"},"contactAction":{"description":"Single action available to a user.","properties":{"blockMessage":{"description":"The description of the action.","type":"string"},"ctaButton":{"description":"The text on the call-to-action button.","type":"string"},"ctaUrl":{"description":"The link the user is redirected to when the CTAButton is clicked.","type":"string"},"externalLinkText":{"description":"Text for the additional information link (commonly used for terms and conditions or product information).","type":"string"},"externalLinkUrl":{"description":"The URL of an additional information link (commonly used for terms and conditions or product information).","type":"string"},"fullIconPath":{"description":"The full path to the icon representing this action.","type":"string"},"icon":{"description":"The action icon file name.","type":"string"},"id":{"description":"Internal action ID.","type":"string"},"minimumOrder":{"description":"The minimum order value required for this action.","format":"int64","type":"integer"},"name":{"description":"The name of the action matching the suite action name.","type":"string"},"recurringDateTime":{"description":"If this action is recurring, then this is a list of all the occurrences start and end timestamps.","items":{"$ref":"#/definitions/recurRange"},"type":"array"},"rewards":{"description":"The reward for completing this action.","type":"string"},"type":{"description":"The type of action.","enum":["default_join"," personalised"," purchase_benefit"," tier_based_actions"],"type":"string"},"updatedAt":{"description":"When this action was last updated (UTC time in milliseconds since unix epoch).","format":"int64","type":"integer"},"validFrom":{"description":"Indicates the time from when this action is valid. Promotion actions start in the future.","format":"int64","type":"integer"},"validUntil":{"description":"Indicates the time by which the action is valid.","format":"int64","type":"integer"}},"required":["name","icon","fullIconPath","blockMessage","rewards","ctaButton","ctaUrl","id","validFrom","validUntil","minimumOrder","type"],"title":"contactAction","type":"object"},"contactActions":{"description":"Holds the group of all actions available to a user which can earn them rewards.","properties":{"actions":{"items":{"$ref":"#/definitions/contactAction"},"type":"array"}},"required":["actions"],"title":"contactActions","type":"object"},"contactActivity":{"description":"Holds the history of the user's activities.","properties":{"activities":{"description":"A list of activities in descending chronological order.","items":{"$ref":"#/definitions/activityEntry"},"minItems":0,"type":"array"}},"required":["activities"],"title":"contactActivity","type":"object"},"contactAdditionalBenefits":{"description":"Holds the additional benefits (vouchers/exclusive access) given to the contact on an individual basis - unlike tier benefits which are given to all contacts in a tier.","properties":{"additionalBenefits":{"items":{"$ref":"#/definitions/additionalBenefit"},"type":"array"}},"required":["additionalBenefits"],"title":"contactAdditionalBenefits","type":"object"},"contactReferral":{"description":"A referral which a contact can share with his friends, so that both they and he can earn rewards when they buy using his referral code.","properties":{"consentLinkText":{"description":"The link text for the terms and conditions.","type":"string"},"consentLinkUrl":{"description":"The link to the terms and conditions.","type":"string"},"consentText":{"description":"The text shown preceding the terms and conditions link.","type":"string"},"friendRewardText":{"description":"The text of the reward which the friend will receive.","type":"string"},"friendText":{"description":"The referral text for the friend as defined by the marketer. Included here since it's commonly used as the text when sharing on social media.","type":"string"},"friendTitle":{"description":"The referral title for the friend as defined by the marketer. Included here since it's commonly used as the title when sharing on social media.","type":"string"},"landingPageUrl":{"description":"The referral landing page where the marketer would like referrer's friends to land.","type":"string"},"referralId":{"description":"The referral id. Used to get the friend content and the referral code.","type":"string"},"rewardText":{"description":"The text of the reward which the referrer will receive.","type":"string"},"sharingChannels":{"description":"On which channels the marketer would like the referral link to be shared (i.e. which share buttons to show).","enum":["email"," facebook"," whatsapp"," twitter"," messenger"],"items":{"type":"string"},"type":"array"},"subtitle":{"description":"The referral subtitle as defined by the marketer.","type":"string"},"text":{"description":"The referral text as defined by the marketer.","type":"string"},"title":{"description":"The referral title as defined by the marketer.","type":"string"}},"required":["referralId","title","friendTitle","text","friendText","subtitle","landingPageUrl","rewardText","friendRewardText","consentText","consentLinkText","consentLinkUrl"],"title":"contactReferral","type":"object"},"contactReferrals":{"description":"Holds the group of all referrals available to a user.","properties":{"referrals":{"items":{"$ref":"#/definitions/contactReferral"},"type":"array"}},"required":["referrals"],"title":"contactReferrals","type":"object"},"contactTiers":{"description":"All tiers which are available for the contact.","properties":{"tiers":{"description":"An array of all available tiers in ascending points order.","items":{"$ref":"#/definitions/tier"},"minItems":0,"type":"array"}},"required":["tiers"],"title":"contactTiers","type":"object"},"contactVoucher":{"description":"Single voucher.","properties":{"actionExternalLinkText":{"description":"If this is a voucher from an event, then this field has the text for link to the additional information link (commonly used for terms and conditions or product information).","type":"string"},"actionExternalLinkUrl":{"description":"If this is a voucher from an event, then this field has the URL of an additional information link (commonly used for terms and conditions or product information).","type":"string"},"actionIcon":{"description":"If this is a voucher from an event, then this field has the icon of the action that triggered it.","type":"string"},"actionMessage":{"description":"If this is a voucher from an event, then this field has the name of the action that triggered it.","type":"string"},"code":{"description":"If the voucher is redeemed, there will be a code in this field.","type":"string"},"createdAt":{"description":"Indicates when this voucher was created.","format":"int64","type":"integer"},"ctaButton":{"description":"The text on the call-to-action button.","type":"string"},"exclusiveAccessDetails":{"$ref":"#/definitions/exclusiveAccessDetails"},"externalLinkText":{"description":"Text for the additional information link (commonly used for terms and conditions or product information).","type":"string"},"externalLinkUrl":{"description":"The URL of an additional information link (commonly used for terms and conditions or product information).","type":"string"},"fullActionIconPath":{"description":"If this is a voucher from an event then this field has the full path to the icon of the action that triggered this.","type":"string"},"fullIconPath":{"description":"The full path to the Icon representing this voucher.","type":"string"},"icon":{"description":"The voucher icon file name.","type":"string"},"id":{"description":"The voucher Id used to redeem the voucher.","type":"string"},"isCashback":{"description":"Indicates whether this is a cashback offer.","type":"boolean"},"isExclusiveAccess":{"description":"Indicates whether the voucher is for an Exclusive Access.","type":"boolean"},"isFree":{"description":"Indicates whether this is a free offer. Can be redeemed (or was redeemed) for zero points.","type":"boolean"},"isRedeemed":{"description":"Indicates whether the voucher has already been redeemed.","type":"boolean"},"limit":{"description":"The maximum number of such vouchers a contact can redeem.","format":"int64","type":"integer"},"name":{"description":"The name of the voucher as defined in the suite.","type":"string"},"pointsRequired":{"description":"The number of points required to redeem this voucher.","format":"double","type":"number"},"text":{"description":"The voucher description.","type":"string"},"title":{"description":"The title of the voucher, usually in bold, larger font.","type":"string"},"updatedAt":{"description":"Indicates when this voucher was last updated (e.g. redeemed - UTC time in milliseconds since unix epoch).","format":"int64","type":"integer"},"validUntil":{"description":"Before being redeemed : Indicates until when this voucher will be valid ONLY if it's a set fixed date (UTC time in milliseconds since unix epoch).\nAfter being redeemed : Indicates the time by which this voucher can be redeemed (UTC time in milliseconds since unix epoch). This is typically used to decide whether to show the code or not (if expired).","format":"int64","type":"integer"},"validityPeriod":{"$ref":"#/definitions/validityPeriod"},"voucherSubType":{"description":"Indicates whether this is a yearly voucher or one-time. Only valid for fixed-benefit vouchers.","enum":["one_time"," yearly"],"type":"string"},"voucherType":{"description":"The type of the voucher (where it originated from).","enum":["personal"," tier_based"," fixed_benefit"," additional_benefit"],"type":"string"},"wasAccessed":{"description":"Indicates whether the voucher has been accessed already (at least once).","type":"boolean"}},"required":["id","voucherType","title","icon","fullIconPath","text","name","ctaButton","createdAt"],"title":"contactVoucher","type":"object"},"contactVouchers":{"description":"Holds all vouchers available to a user that can be redeemed, including those that have already been redeemed.","properties":{"vouchers":{"description":"A list of all the vouchers which belong to this contact.","items":{"$ref":"#/definitions/contactVoucher"},"type":"array"}},"required":["vouchers"],"title":"contactVouchers","type":"object"},"earningPointsRate":{"description":"Only applies to purchase benefits. This is a list defining how points are earned by money spent at the customer.","properties":{"points":{"description":"A number of points received.","format":"double","type":"number"},"spent":{"description":"The amount of money spent.","format":"double","type":"number"}},"required":["spent","points"],"title":"earningPointsRate","type":"object"},"errors":{"description":"This is a container used to provide detailed information about errors which occur in the API. In some cases an array of several such errors can be returned for a single request.\n\nResource types:\n\n• contact\n\n• group\n\n• action\n\n• reward\n\n• plan\n\n• tier\n\n• benefit\n\nerror codes:\n\n1001 - resource not found\n\n1100 - contacts are from different loyalty plans\n\n2102 - contact is in a different plan\n\n2103 - contact is already in a different group\n\n2104 - contact is not in that group\n\n2105 - contact is in a group\n\n2106 - mismatch in the plan type/s and the request\n\n3101 - could not add this benefit to the contact\n\n3102 - could not remove this benefit from the contact\n\n5000 - resource not valid\n\n5001 - already in process\n\n9000 - invalid input parameters","properties":{"errorCode":{"description":"The error code for machine automation.","format":"int32","type":"integer"},"errorMessage":{"description":"The human readable error message.","type":"string"},"resourceName":{"description":"The name of the resource to which the error relates.","type":"string"},"resourceType":{"description":"The type of resource to which the error relates.","type":"string"}},"required":["errorCode","errorMessage"],"title":"errors","type":"object","x-stoplight":{"id":"442ead040b6c3"}},"exclusiveAccessDetails":{"description":"Details about an exclusive access voucher.","properties":{"accessURL":{"description":"The URL that can now be accessed.","type":"string"},"blockingEnd":{"description":"indicates the time until when this URL can't be accessed and requires exclusive access (UTC time in milliseconds since unix epoch). For unlimited access, 0 is used.","format":"int64","type":"integer"},"blockingStart":{"description":"If exists - indicates the time after which this URL will not be accessible and will require exclusive access (UTC time in milliseconds since unix epoch). For unlimited access, 0 is used.","format":"int64","type":"integer"},"validUntil":{"description":"Indicates the time until when the URL can be accessed (UTC time in milliseconds since unix epoch).","format":"int64","type":"integer"}},"required":["accessURL","validUntil"],"title":"exclusiveAccessDetails","type":"object"},"group":{"description":"A group of contacts which is a container where they collect points and rewards together.","properties":{"contacts":{"description":"The comma delimited list of contacts which are part of this group. These are the hashed Ids, not emails or other external identifiers. You can use the getContact endpoint to get more information about each contact.","items":{"type":"string"},"type":"array"},"createdAt":{"description":"Indicates when this group was created.","format":"int64","type":"integer"},"groupPoints":{"$ref":"#/definitions/groupPoints"},"groupTier":{"$ref":"#/definitions/groupTier"},"id":{"description":"Unique internal system identifier of the group.","type":"string"},"name":{"description":"Unique name of the group. Used as the identifier with all communications with the loyalty API.","type":"string"},"purchases":{"description":"The number of purchases the group has made at the customer, since entering the current tier. This value goes to zero on every tier change.","format":"int64","type":"integer"}},"required":["id","name","groupPoints","groupTier","purchases","createdAt","contacts"],"title":"group","type":"object"},"groupPoints":{"description":"A container for points earned by groups.","properties":{"name":{"description":"Plural points name as defined in the suite by the marketer. e.g. miles.","type":"string"},"nameSingular":{"description":"Singular point name as defined in the suite by the marketer. e.g. mile.","type":"string"},"pending":{"description":"Pending points that may transfer to the balance after validation.","format":"double","type":"number"},"status":{"description":"Status points that go towards tiers.","format":"double","type":"number"}},"required":["name","nameSingular","pending","status"],"title":"groupPoints","type":"object"},"groupTier":{"description":"Holds Information about a specific loyalty level which the group is at.","properties":{"allowDropout":{"description":"Whether this tier has a flag preventing dropping out of it at the end of the next year calculation.","type":"boolean"},"fullIconPath":{"description":"Full path to the icon for this tier.","type":"string"},"icon":{"description":"Icon representing this tier.","type":"string"},"name":{"description":"The tier name.","type":"string"},"points":{"description":"Required status points for this tier.","format":"int64","type":"integer"}},"required":["name","points","fullIconPath"],"title":"groupTier","type":"object"},"migrationOptions":{"description":"Which items to migrate when changing plans.","properties":{"balancePoints":{"description":"The balance points.","type":"boolean"},"pendingPoints":{"description":"The pending points.","type":"boolean"},"redeemedVouchers":{"description":"The vouchers which have already been redeemed.","type":"boolean"},"statusPoints":{"description":"The status points.","type":"boolean"}},"required":["redeemedVouchers","statusPoints","balancePoints","pendingPoints"],"title":"migrationOptions","type":"object"},"points":{"description":"A container for points and status points.","properties":{"balance":{"description":"The pointsToSpend balance that is available for spending.","format":"double","type":"number"},"cashback":{"description":"Cashback balance.","format":"double","type":"number"},"cashbackPending":{"description":"Cashback points pending.","format":"double","type":"number"},"expiresSoon":{"description":"Points about to expire soon.","format":"double","type":"number"},"name":{"description":"Plural points name as defined in the suite by the marketer. e.g. miles.","type":"string"},"nameSingular":{"description":"Singular point name as defined in the suite by the marketer. e.g. mile.","type":"string"},"pending":{"description":"Pending points that may transfer to the balance after validation.","format":"double","type":"number"},"pointsAllocations":{"description":"Points breakdown, for each bunch of points, when allocated and when expiring.","items":{"$ref":"#/definitions/pointsAllocation"},"type":"array"},"status":{"description":"Status points that go towards tiers.","format":"double","type":"number"}},"required":["name","nameSingular","balance","pending","status","expiresSoon","cashback","cashbackPending"],"title":"points","type":"object"},"pointsActivityDetails":{"description":"Additional information about the points which are added or removed.","properties":{"activityDescription":{"description":"The description of the activity.","type":"string"},"activityDescriptionML":{"additionalProperties":{"type":"string"},"description":"The description of the activity in additional languages. This is an object with the ISO language codes as the property names, and the matching activity descriptions as the property values.","type":"object"},"activityName":{"description":"The name of the activity.","type":"string"},"activityNameMl":{"additionalProperties":{"type":"string"},"description":"The name of the activity in additional languages. This is an object with the ISO language codes as the property names, and the matching activity names as the property values.","type":"object"}},"title":"pointsActivityDetails","type":"object"},"pointsAllocation":{"description":"A container for allocated points which contains information about points or points to spend which the contact received and when they will expire.","properties":{"allocatedAt":{"description":"When the points were allocated.","format":"int64","type":"integer"},"amount":{"description":"The number of points allocated.","format":"double","type":"number"},"expireAt":{"description":"Only returned if the points have an expiration date.","format":"int64","type":"integer"},"pointsType":{"description":"The type of points allocated.","enum":["status"," pointsToSpend"],"type":"string"}},"required":["amount","pointsType","allocatedAt"],"title":"pointsAllocation","type":"object"},"pointsInfo":{"description":"pointsInfo\nThe point values for the respective point types in the map, which were received or removed.","properties":{"points":{"description":"The points received or removed.","format":"double","type":"number"}},"required":["points"],"type":"object"},"programSettings":{"description":"The loyalty settings of a program as specified by the marketer in the loyalty suite.","properties":{"additionalBenefits":{"description":"A list of additional benefits available in this program.","items":{"$ref":"#/definitions/additionalBenefit"},"minItems":0,"type":"array"},"cashbackName":{"description":"For cashback type programs, tha name of the cashback plan. Empty by default.","type":"string"},"cashbackNameMl":{"additionalProperties":{"type":"string"},"description":"For cashback type programs, tha multi-language name of the cashback plan. Empty by default.","type":"object"},"currencyDisplay":{"description":"For spend type of programs the marketer can decide how to show money. Using a symbol e.g. $ or ISO code e.g. USD, or without any currency identifier at all.","enum":["none"," symbol"," code"],"type":"string"},"isCashbackEnabled":{"description":"Boolean mark for the status of cashback. False by default.","type":"boolean"},"planType":{"description":"The type of plan this is. This indicates if a plan has points redemption available, or if it's a spend type of plan which represents money.","enum":["points_and_redemption"," points_and_benefits"," spend_and_benefits"," cashback"],"type":"string"},"pointsName":{"description":"Plural points name as defined in the suite by the marketer. e.g. miles.","type":"string"},"pointsNameSingular":{"description":"Singular point name as defined in the suite by the marketer. e.g. mile.","type":"string"},"tiersBenefits":{"$ref":"#/definitions/tiersBenefits"}},"required":["additionalBenefits","planType","pointsName","pointsNameSingular","tiersBenefits"],"title":"programSettings","type":"object"},"recurRange":{"description":"Holds the list of reccurrences of a particular action.","properties":{"validFrom":{"format":"int64","type":"integer"},"validUntil":{"format":"int64","type":"integer"}},"title":"recurRange","type":"object"},"referralCode":{"description":"The code to present to the friend of the referring contact, after he enters his email.\nIn some cases the code is not returned, since the marketer configured that it should not be shown, and is only sent via email.","properties":{"code":{"description":"The coupon code to present to the referring contact's friend.","type":"string"},"displayCodeInClient":{"description":"Whether or not to display the code to the friend (in addition to sending it via email).","type":"boolean"},"expireAt":{"description":"The date until which the coupon code is valid. This is typically used to decide whether to show the code or not (if expired).","format":"int64","type":"integer"},"minimumOrder":{"description":"The minimum order value required for this referral.","format":"int64","type":"integer"}},"required":["code","expireAt","displayCodeInClient"],"title":"referralCode","type":"object"},"referralFriendContent":{"description":"The content which is shown to a friend who arrives on a landing page with a referralId from a loyalty contact.","properties":{"consentLinkText":{"description":"The link text for the terms and conditions.","type":"string"},"consentLinkUrl":{"description":"The link to the terms and conditions.","type":"string"},"consentText":{"description":"The text shown preceding the terms and conditions link.","type":"string"},"ctaText":{"description":"The text on the button to submit the email.","type":"string"},"fullRewardIconPath":{"description":"The full icon path to the icon to be shown.","type":"string"},"inputFieldPlaceholderText":{"description":"The placeholder text inside the input component where the friend enters his email.","type":"string"},"rewardIcon":{"description":"The icon name of the icon to be shown.","type":"string"},"rewardText":{"description":"The reward which the friend will earn.","type":"string"},"secondaryText":{"description":"The text below the secondary title.","type":"string"},"secondaryTitle":{"description":"The secondary title.","type":"string"},"text":{"description":"The text below the title.","type":"string"},"title":{"description":"The title of the referral.","type":"string"}},"required":["title","text","secondaryTitle","secondaryText","rewardText","inputFieldPlaceholderText","consentText","consentLinkText","consentLinkUrl","ctaText","rewardIcon","fullRewardIconPath"],"title":"referralFriendContent","type":"object"},"tier":{"description":"Holds Information about a specific loyalty level which a user is at.","properties":{"allowDropout":{"description":"Whether this tier has a flag preventing dropping out of it at the end of the next year calculation.","type":"boolean"},"fullIconPath":{"description":"Full path to the icon for this tier.","type":"string"},"icon":{"description":"Icon representing this tier.","type":"string"},"id":{"description":"The tier id.","type":"string"},"isHidden":{"description":"Indicates if the tier was marked as hidden (i.e. do not show since it's being phased out).","type":"boolean"},"name":{"description":"The tier name.","type":"string"},"points":{"description":"Required status points for this tier.","format":"int64","type":"integer"},"purchases":{"description":"Required purchases for this tier.","format":"int64","type":"integer"},"tierType":{"description":"The tier type. Can be Regular or Invite (invitation-only).","enum":["regular"," invite"],"type":"string"}},"required":["id","name","tierType","points","purchases","icon","fullIconPath","isHidden"],"title":"tier","type":"object"},"tiersBenefit":{"description":"Information about the tier and a container for all the benefits of the tier sub divided into purchase benefits and fixed benefits.","properties":{"fixedBenefits":{"description":"Benefits or perks which the user gets by virtue of being in this loyalty tier.","items":{"$ref":"#/definitions/benefit"},"type":"array"},"fromPoints":{"description":"Required minimum status points for this tier.","format":"int64","type":"integer"},"fullTierIconPath":{"description":"Full path to the icon for this tier.","type":"string"},"isHidden":{"description":"Indicates if the tier was marked as hidden (i.e. do not show since it's being phased out).","type":"boolean"},"purchaseBenefits":{"description":"The points which the user can earn by purchasing items at the customer.","items":{"$ref":"#/definitions/benefit"},"type":"array"},"purchasesRequired":{"description":"The number of purchases required before contact may upgrade if he meets all other requirements.","format":"int64","type":"integer"},"tierIcon":{"description":"Icon representing this tier.","type":"string"},"tierId":{"description":"The tier id.","type":"string"},"tierName":{"description":"The tier name.","type":"string"},"tierType":{"description":"The tier type. Can be Regular or Invite (invitation-only).","enum":["regular"," invite"],"type":"string"},"toPoints":{"description":"The maximum points for this tier after which the contact may upgrade if he meets all other requirements.","format":"int64","type":"integer"}},"required":["tierId","tierName","tierIcon","fullTierIconPath","fromPoints","toPoints","purchasesRequired","tierType","isHidden","purchaseBenefits","fixedBenefits"],"title":"tiersBenefit","type":"object"},"tiersBenefits":{"description":"The benefits by virtue of being in a specific tier.","properties":{"benefits":{"items":{"$ref":"#/definitions/tiersBenefit"},"type":"array"}},"title":"tiersBenefits","type":"object"},"validityPeriod":{"description":"A period of time.","properties":{"days":{"format":"int64","type":"integer"},"months":{"format":"int64","type":"integer"},"weeks":{"format":"int64","type":"integer"}},"required":["days","weeks","months"],"type":"object"},"voucherCode":{"description":"Single voucher code.","properties":{"code":{"description":"The voucher code to be entered at the customer's site.","type":"string"},"validUntil":{"description":"If exists - the UTC time in milliseconds since unix epoch until when this voucher can be redeemed. For unlimited vouchers, 0 is used.","format":"int64","type":"integer"}},"required":["code"],"type":"object"}},"info":{"contact":{"email":"product_documentation@emarsys.com","name":"Product Documentation department","url":"http://dev.emarsys.com"},"description":"For more information on migrating from an earlier version of the Emarsys Loyalty API, please visit our [developer portal](https://emarsys-sap.stoplight.io/docs/loyalty-api-v4/394a4ca715484-migration-guide).","license":{"name":"MIT","url":"http://opensource.org/licenses/MIT"},"termsOfService":"Coming soon...","title":"SAP Emarsys Loyalty Contact API","version":"4.0"},"paths":{"/contact":{"delete":{"description":"Deletes the contact including all their activities and rewards. IMPORTANT - This cannot be undone.","operationId":"deleteContact","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"default":"contact","description":"The entity which initiated the action. Can currently be one of the following strings: contact, customer.","in":"header","name":"x-initiated-by","type":"string"}],"responses":{"204":{"description":" Contact deleted successfully"},"404":{"description":" Contact not found"},"500":{"$ref":"#/responses/genericError"}},"summary":"Delete a contact","tags":["CONTACTS"]},"get":{"description":"Pass the contact's Id (as identified by the shop, e.g. email, shop customer Id, ...) and get all their loyalty information.","operationId":"getContact","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes).","in":"header","name":"x-language","type":"string"},{"default":"false","description":"Whether you need the tier expiration data. Send this param in the querystring =true to get this data.","in":"query","name":"withTierExpiration","type":"string"},{"default":"false","description":"Whether you need the details about points when they were accumulated and their expiration date. Send this parameter in the query string =true to get this data.","in":"query","name":"withPointsAllocations","type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/contact"}},"400":{"description":" Invalid ID supplied"},"404":{"description":" Contact not found"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get a contact's loyalty information","tags":["CONTACTS"]}},"/contact/actions":{"get":{"description":"Get actions available for the contact that can earn them rewards.","operationId":"getContactActions","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"},{"description":"The ISO identifier of the currency in which to return the results. (https://en.wikipedia.org/wiki/ISO_4217)","in":"header","name":"x-currency","type":"string"}],"responses":{"200":{"description":"contactActions","schema":{"$ref":"#/definitions/contactActions"}},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get a contact's actions","tags":["ACTIONS"]}},"/contact/activities":{"get":{"description":"Get the contact's activity information based on their actions or purchases.","operationId":"getContactActivities","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"}],"responses":{"200":{"description":"contactActivity","schema":{"$ref":"#/definitions/contactActivity"}},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get a contact's activities","tags":["CONTACTS"]}},"/contact/additionalBenefits":{"get":{"description":"Get the additional benefits which were given to the contact.","operationId":"getContactAdditionalBenefits","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"}],"responses":{"200":{"description":"contactAdditionalBenefits","schema":{"$ref":"#/definitions/contactAdditionalBenefits"}},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get a contact's additional benefits","tags":["ADDITIONAL-BENEFITS"]}},"/contact/additionalBenefits/add":{"put":{"description":"Give additional benefits to a contact.","operationId":"addAdditionalBenefits","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"A comma delimited list of additional benefit Ids to give to the contact.","in":"header","name":"x-additional-benefits-list","required":true,"type":"string"},{"description":"A short reason why additional benefits were added to or removed from the contact","in":"header","name":"x-reason-for-additional-benefits","required":true,"type":"string"}],"responses":{"204":{"description":" Additional Benefits added successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Add additional benefits to a contact","tags":["ADDITIONAL-BENEFITS"]}},"/contact/additionalBenefits/remove":{"put":{"description":"Remove additional benefits from a contact.","operationId":"removeAdditionalBenefits","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"A comma delimited list of additional benefit Ids to give to the contact.","in":"header","name":"x-additional-benefits-list","required":true,"type":"string"},{"description":"A short reason why additional benefits were added to or removed from the contact","in":"header","name":"x-reason-for-additional-benefits","required":true,"type":"string"}],"responses":{"204":{"description":" Additional Benefits removed successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Remove a contact's additional benefits","tags":["ADDITIONAL-BENEFITS"]}},"/contact/changeplan":{"put":{"description":"Change the contact's loyalty plan e.g. from B2B to B2C. Only relevant for customers that have multiple plans.","operationId":"changePlan","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The ID of the plan as defined by the marketer.","in":"header","name":"x-plan-id","type":"string"},{"description":"The things to migrate when performing the migration of changing a contact's plan","in":"body","name":"migrationOptions","schema":{"$ref":"#/definitions/migrationOptions"}}],"responses":{"204":{"description":" Plan changed successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Change a contact's loyalty plan","tags":["PLAN"]}},"/contact/exclusive":{"delete":{"description":"Remove an already used exclusive access voucher for a contact. Pass the exclusive access voucher Id.","operationId":"removeExclusiveAccess","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The unique identifier of a voucher","in":"header","name":"x-voucher-id","required":true,"type":"string"}],"responses":{"204":{"description":" Exclusive Access removed successfully"},"404":{"description":" Exclusive Access not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Remove a contact's exclusive access voucher","tags":["EXCLUSIVE-ACCESS"]}},"/contact/exclusive/accessed":{"put":{"description":"Mark an exclusive access voucher for a contact as accessed. Pass the exclusive access voucher Id.","operationId":"exclusiveWasAccessed","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The unique identifier of a voucher","in":"header","name":"x-voucher-id","required":true,"type":"string"}],"responses":{"204":{"description":" Exclusive Access marked successfully"},"404":{"description":" Exclusive Access not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Mark a contact's exclusive access voucher as accessed","tags":["EXCLUSIVE-ACCESS"]}},"/contact/exclusives/redeem":{"post":{"description":"Redeem an exclusive access voucher for a contact.","operationId":"redeemExclusiveAccess","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The unique identifier of a voucher","in":"header","name":"x-voucher-id","required":true,"type":"string"},{"default":"false","description":"Whether the exclusive access voucher being redeemed is of type free. If false or not sent then considered as a voucher for points","in":"header","name":"x-is-free","type":"string"}],"responses":{"200":{"description":"exclusiveAccessDetails","schema":{"$ref":"#/definitions/exclusiveAccessDetails"}},"404":{"description":" Exclusive Access not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Redeem a contact's exclusive access voucher","tags":["EXCLUSIVE-ACCESS"]}},"/contact/getReferralCode":{"post":{"description":"Submit the referred friend's email and referralID to get a code to use at checkout which will earn him and the referrer their rewards","operationId":"getReferralCode","parameters":[{"description":"The referralId which is returned when getting a contact's referrals.","in":"header","name":"x-referral-id","required":true,"type":"string"},{"description":"The email of a referred friend","in":"header","name":"x-referral-email","required":true,"type":"string"}],"responses":{"200":{"description":"referralCode","schema":{"$ref":"#/definitions/referralCode"}},"410":{"description":" Badly formatted or missing request data"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get a contact's referral code","tags":["REFERRAL"]}},"/contact/hash":{"get":{"description":"Pass the contact's external id to get its hashed representation that you can use to create a contact on the Emarsys API. External id is as identified by the shop: email, shop customer Id and so on.","operationId":"getContactHash","responses":{"200":{"$ref":"#/responses/stringResponse"},"400":{"description":" Invalid ID supplied"},"404":{"description":" Contact not found"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get the Emarsys hashed version of the external contact Id","tags":["CONTACTS"]}},"/contact/join":{"post":{"description":"Add a contact to the loyalty program (create contact if required).","operationId":"joinContact","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The ID of the plan as defined by the marketer.","in":"header","name":"x-plan-id","type":"string"}],"responses":{"204":{"description":" Contact joined successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Add a contact","tags":["CONTACTS"]}},"/contact/points/add":{"put":{"description":"Allocate points to a contact.","operationId":"addPoints","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The number of points which were added to or removed from the contact","in":"header","name":"x-number-of-points","required":true,"type":"string"},{"description":"The type of points which were added to or removed from the contact","enum":["[ loyalty"," status"," pointsToSpend"," cashback ]"],"in":"header","name":"x-type-of-points","required":true,"type":"string"},{"description":"A short reason why points were added to or removed from the contact, only shown internally to customer support in the loyalty suite.","in":"header","name":"x-reason-for-points","type":"string"},{"description":"A short reason why points were added to or removed from the contact, shown to the contact","in":"body","name":"pointsActivityDetails","schema":{"$ref":"#/definitions/pointsActivityDetails"}}],"responses":{"204":{"description":" Points added successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Add points to a contact","tags":["POINTS"]}},"/contact/points/remove":{"put":{"description":"Remove points from a contact.","operationId":"removePoints","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The number of points which were added to or removed from the contact","in":"header","name":"x-number-of-points","required":true,"type":"string"},{"description":"The type of points which were added to or removed from the contact","enum":["[ loyalty"," status"," pointsToSpend"," cashback ]"],"in":"header","name":"x-type-of-points","required":true,"type":"string"},{"description":"A short reason why points were added to or removed from the contact, only shown internally to customer support in the loyalty suite.","in":"header","name":"x-reason-for-points","type":"string"},{"description":"A short reason why points were added to or removed from the contact, shown to the contact","in":"body","name":"pointsActivityDetails","schema":{"$ref":"#/definitions/pointsActivityDetails"}},{"default":false,"description":"Whether to re-calculate the contact's tier immediately after removing the specified points. Send this param in the querystring =true to perform the re-calculation.","in":"query","name":"recalculateTier","type":"boolean"}],"responses":{"204":{"description":" Points removed successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Remove points from a contact","tags":["POINTS"]}},"/contact/programSettings":{"get":{"description":"Get the program settings/fixed benefits pertaining to the contact.","operationId":"getContactProgramSettings","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"DEPRECATED: (please use x-market instead)","in":"header","name":"x-country","type":"string"},{"description":"A string representing the target market for which to return the results.","in":"header","name":"x-market","type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"},{"description":"The ISO identifier of the currency in which to return the results. (https://en.wikipedia.org/wiki/ISO_4217)","in":"header","name":"x-currency","type":"string"}],"responses":{"200":{"description":"programSettings","schema":{"$ref":"#/definitions/programSettings"}},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get program settings","tags":["PLAN"]}},"/contact/referralFriendContent":{"get":{"description":"Get the content to show to the referred friend based on the referral shared with him (based on the referralID).","operationId":"getReferralFriendContent","parameters":[{"description":"DEPRECATED: (please use x-market instead)","in":"header","name":"x-country","type":"string"},{"description":"A string representing the target market for which to return the results.","in":"header","name":"x-market","type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"},{"description":"The referralId which is returned when getting a contact's referrals.","in":"header","name":"x-referral-id","required":true,"type":"string"}],"responses":{"200":{"description":"referralFriendContent","schema":{"$ref":"#/definitions/referralFriendContent"}},"400":{"description":" Invalid referralID supplied"},"404":{"description":" Referral not found"},"500":{"$ref":"#/responses/genericError"}},"summary":"Show referral content","tags":["REFERRAL"]}},"/contact/referrals":{"get":{"description":"Get an array of referrals - information, including the referralID which the contact can share with his friends to earn rewards.","operationId":"getContactReferrals","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"DEPRECATED: (please use x-market instead)","in":"header","name":"x-country","type":"string"},{"description":"A string representing the target market for which to return the results.","in":"header","name":"x-market","type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"}],"responses":{"200":{"description":"contactReferrals","schema":{"$ref":"#/definitions/contactReferrals"}},"400":{"description":" Invalid ID supplied"},"404":{"description":" Contact not found"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get an array of referrals","tags":["REFERRAL"]}},"/contact/tiers":{"get":{"description":"Get the tiers pertaining to the plan which the contact is in","operationId":"getContactTiers","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"DEPRECATED: (please use x-market instead)","in":"header","name":"x-country","type":"string"},{"description":"A string representing the target market for which to return the results.","in":"header","name":"x-market","type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"}],"responses":{"200":{"description":"contactTiers","schema":{"$ref":"#/definitions/contactTiers"}},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get contact tiers","tags":["TIERS"]}},"/contact/tiers/downgrade":{"put":{"description":"Downgrade the tier which a contact is in. This can be any tier which is below the tier which the contact is currently in.\nNote: After changing tiers, the contact will automatically get the minimum required status points for the tier.","operationId":"downgradeTier","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"A short reason why the contact tier was changed","in":"header","name":"x-reason-for-tier-change","type":"string"},{"description":"The ID of the tier","in":"header","name":"x-tier-id","type":"string"},{"description":"What to do with the contact after removal from invitation-only tier. If you are downgrading from a regular tier this is not relevant.\nThe value can be one of the following strings:\nauto - the contact will be placed in the tier matching his current status points (tierId is then not required)\nmanual - the contact will be placed in the tier specified by the tierId passed in this API request (tierId is then required)","in":"header","name":"x-exit-to","type":"string"}],"responses":{"204":{"description":" Tier downgraded successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Downgrade the tier which a contact is in.","tags":["TIERS"]}},"/contact/tiers/upgrade":{"put":{"description":"Upgrade the tier which a contact is in. This can be any tier which is above the tier which the contact is currently in.\nNote: After changing tiers, the contact will automatically get the minimum required status points for the tier.","operationId":"upgradeTier","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"A short reason why the contact tier was changed","in":"header","name":"x-reason-for-tier-change","type":"string"},{"description":"The ID of the tier","in":"header","name":"x-tier-id","type":"string"}],"responses":{"204":{"description":" Tier upgraded successfully"},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Upgrade a contact's tier","tags":["TIERS"]}},"/contact/voucher":{"delete":{"description":"Remove an already used voucher for a contact. Either using a voucher Id or voucher Code.","operationId":"removeVoucher","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The unique identifier of a voucher","in":"header","name":"x-voucher-id","required":true,"type":"string"},{"description":"The voucher code the contact received from the customer","in":"header","name":"x-voucher-code","required":true,"type":"string"}],"responses":{"204":{"description":" Voucher removed successfully"},"404":{"description":" Voucher not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Remove a contact's used voucher","tags":["VOUCHERS"]}},"/contact/vouchers":{"get":{"description":"Get all vouchers/rewards for a contact.","operationId":"getContactVouchers","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"DEPRECATED: (please use x-market instead)","in":"header","name":"x-country","type":"string"},{"description":"A string representing the target market for which to return the results.","in":"header","name":"x-market","type":"string"},{"description":"The ISO identifier of the language in which to return the results. (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)","in":"header","name":"x-language","type":"string"}],"responses":{"200":{"description":"contactVouchers","schema":{"$ref":"#/definitions/contactVouchers"}},"404":{"description":" Contact not found"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Get a contact's vouchers","tags":["VOUCHERS"]}},"/contact/vouchers/redeem":{"post":{"description":"Redeem a voucher for a contact.","operationId":"redeemVoucher","parameters":[{"description":"This is the contact's externalId which you also use in your sales data upload to Smart Insights (Management -> Smart Insight Settings -> Contact Fields -> Unique identifier). More info <a href=\"https://help.emarsys.com/hc/en-us/articles/4607666564625-implementation-installing-and-testing-the-loyalty-wallet-exclusive-access-and-the-api#loyalty-api\">here</a>.","in":"header","name":"x-contact-id","required":true,"type":"string"},{"description":"The unique identifier of a voucher","in":"header","name":"x-voucher-id","required":true,"type":"string"}],"responses":{"200":{"description":"voucherCode","schema":{"$ref":"#/definitions/voucherCode"}},"404":{"description":" Voucher not found"},"410":{"description":" The pool is out of vouchers or is in an invalid state"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Redeem a contact's voucher","tags":["VOUCHERS"]}},"/group":{"post":{"description":"Create a group of contacts.","operationId":"createGroup","parameters":[{"description":"The name of the loyalty group.","in":"header","name":"x-group-name","required":true,"type":"string"},{"description":"Comma delimited list of contacts.","in":"header","name":"x-contact-list","required":true,"type":"string"}],"responses":{"204":{"description":" Group created successfully"},"410":{"description":" Badly formatted or missing request data"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Create a group","tags":["GROUP"]}},"/group/addContacts":{"put":{"description":"Add one or more contact/s to a group of contacts.","operationId":"addContactsToGroup","parameters":[{"description":"The name of the loyalty group.","in":"header","name":"x-group-name","required":true,"type":"string"},{"description":"Comma delimited list of contacts.","in":"header","name":"x-contact-list","required":true,"type":"string"},{"default":"false","description":"If you want the group to automatically be created then set this param in the querystring =true.","in":"query","name":"createGroupIfRequired","type":"string"}],"responses":{"204":{"description":" Contact/s added to group successfully"},"410":{"description":" Badly formatted or missing request data"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Add contacts to a group","tags":["GROUP"]}},"/group/removeContacts":{"put":{"description":"Remove one or more contact/s from a group of contacts.","operationId":"removeContactsFromGroup","parameters":[{"description":"The name of the loyalty group.","in":"header","name":"x-group-name","required":true,"type":"string"},{"description":"Comma delimited list of contacts.","in":"header","name":"x-contact-list","required":true,"type":"string"}],"responses":{"204":{"description":" Contact/s removed from group successfully"},"410":{"description":" Badly formatted or missing request data"},"422":{"$ref":"#/responses/validationError"},"500":{"$ref":"#/responses/genericError"}},"summary":"Remove contacts from a group","tags":["GROUP"]}}},"responses":{"emptyResponse":{"description":"An empty response"},"errorMessage":{"description":"General Error Object. Sent with the appropriate HTTP code and contains an error message and a logId for locating the issue","headers":{"correlationId":{"type":"string"},"logId":{"type":"string"},"message":{"type":"string"}}},"genericError":{"description":"A GenericError is the default error message that is generated.\nFor certain status codes there are more appropriate error structures.","schema":{"properties":{"logId":{"type":"string"},"message":{"type":"string"}},"required":["logId","message"],"type":"object"}},"stringResponse":{"description":"","schema":{"type":"string"}},"validationError":{"description":"A ValidationError contains error/s that resulting in validation failures.\nIn some cases an array of several such errors can be returned for a single request.","schema":{"items":{"$ref":"#/definitions/errors"},"type":"array"}}},"schemes":["https"],"security":[{"api_key":[]}],"swagger":"2.0","tags":[{"name":"CONTACTS"},{"name":"PLAN"},{"name":"POINTS"},{"name":"ADDITIONAL-BENEFITS"},{"name":"ACTIONS"},{"name":"TIERS"},{"name":"REFERRAL"},{"name":"VOUCHERS"},{"name":"EXCLUSIVE-ACCESS"},{"name":"GROUP"}]}