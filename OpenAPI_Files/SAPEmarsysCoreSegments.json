{
    "openapi": "3.0.1",
    "servers": [
        {
            "url": "https://{host}/api/v3",
            "description": "Production server",
            "variables": {
                "host": {
                    "default": "api.emarsys.net",
                    "description": "This is the Emarsys API server"
                }
            }
        }
    ],
    "info": {
        "description": "Create and maintain your segments based on your specified contact and email behavior criteria. \nYou can also search for specific contacts and check your segments performance in your campagins.",
        "title": "SAP Emarsys Core - Segments",
        "version": "3.0.0"
    },
    "tags": [
        {
            "name": "Segments"
        }
    ],
    "externalDocs": {
        "description": "For more information, please visit our official SAP Emarsys developer portal.",
        "url": "https://dev.emarsys.com/docs/core-api-reference/76c5a1af5beee-emarsys-core-api-segments-endpoint-batch"
    },
    "x-sap-shortText": "Use the powerful segmentation capabilities to enhance the performance of your marketing campaigns.",
    "paths": {
        "/filter": {
            "put": {
                "summary": "Create a Segment",
                "tags": [
                    "Segments"
                ],
                "description": "Creates a segment based on the specified contact and email behavior criteria.\n\n### Overview\nCritera are represented as JSON object nodes in the request body. The relationship between the nodes is defined by the following:\n- Grouping operators link filter conditions with a logical AND or OR operator using the `type` property.\n- The node hierarchy correspond to the structure of the filters.\n\n### Node Structure\nNodes can either be conjunctive or a criteria nodes. The function of each node is defined in the `type` property.\n- **Conjunctive nodes:** Nodes with a grouping operator `and` or `or` establish the relationship between parent and children nodes, and do not have any other property.\n- **Criteria nodes:** Nodes with the `criteria` property define a filter condition.\n\n| Criterion Type | Mandatory Properties | Optional Properties |\n| --- | --- | --- |\n| Contact criteria | - field<br>- operator<br>- value ||\n| Behavior criteria | - criteria | - time_restriction |\n\n**Important:**\n- Either one contact or behavior criteria must be specified in the request.\n- Nested nodes are specified in a `children` array of the JSON payload. See the Request Body section for details.\n\n**Note:** Mobile behavior, geolocation, and Smart Insight criteria are not supported using the API at the moment.    ",
                "responses": {
                    "200": {
                        "description": "A response example:",
                        "$ref": "#/components/responses/default-response"
                    },
                    "400": {
                        "description": "A response example:",
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "name"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "description": "Unique name of the segment."
                                    },
                                    "description": {
                                        "type": "string",
                                        "description": "The description of the contact segment."
                                    },
                                    "baseContactListId": {
                                        "type": "string",
                                        "description": "Creates a segment based on a contact list.\n\n**Note**: Use the value *0* to use all available contacts."
                                    },
                                    "contactCriteria": {
                                        "type": "object",
                                        "description": "The new contact criteria.",
                                        "properties": {
                                            "type": {
                                                "default": "and",
                                                "enum": [
                                                    "and",
                                                    "or",
                                                    "criteria"
                                                ],
                                                "description": "Defines the function of each node.\n- The grouping operator that defines the relationship between filter nodes.\n- The value `critera` indicates that the node is a contact criteria."
                                            },
                                            "field_id": {
                                                "type": "string",
                                                "x-stoplight": {
                                                    "id": "zdcd8pl9hr5r4"
                                                },
                                                "description": "The `field_id` used as criterion. For more information, see the [SAP Emarsys system fields](https://help.sap.com/docs/SAP_EMARSYS/5d44574160f44536b0130abf58cb87cc/fdf56fb974c110149470d0c1a7fb5ee9.html?locale=en-US)."
                                            },
                                            "operator": {
                                                "type": "string",
                                                "description": "The logical operator for comparing the specified field and its value."
                                            },
                                            "value": {
                                                "type": "string",
                                                "description": "The value of the specified field."
                                            }
                                        }
                                    },
                                    "behaviourCriteria": {
                                        "type": "object",
                                        "properties": {
                                            "criteria": {
                                                "enum": [
                                                    "response_open_click",
                                                    "response_click",
                                                    "noresponse_open_click",
                                                    "noresponse_click"
                                                ],
                                                "description": "Defines a behavior criterion."
                                            },
                                            "time_restriction": {
                                                "type": "string"
                                            },
                                            "type": {
                                                "enum": [
                                                    "and",
                                                    "or",
                                                    "criteria"
                                                ],
                                                "description": "Defines the function of each node.\n- The grouping operator that defines the relationship between filter nodes.\n- The value `critera` indicates that the node is a contact criteria."
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "Example 1": {
                                    "value": {
                                        "name": "string",
                                        "description": "string",
                                        "baseContactListId": "string",
                                        "contactCriteria": {
                                            "type": "and",
                                            "children": null
                                        },
                                        "behaviourCriteria": {
                                            "criteria": "response_open_click",
                                            "time_restriction": "string",
                                            "type": "and"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": []
            }
        },
        "/v3/filter/{segmentId}": {
            "get": {
                "summary": "List Segments",
                "description": "Generates a list of segments.",
                "tags": [
                    "Segments"
                ],
                "responses": {
                    "200": {
                        "description": "Succcessful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "description": "See the example or [Response Codes](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors) for details.",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "array",
                                            "description": "The requested data.",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "description": "The segment identifier."
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "description": "The name of the segment."
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "description": "The segment type.\n\n**Typical values:** `standard`, `combined`, `relational`, `ai`."
                                                    },
                                                    "tags": {
                                                        "type": "array",
                                                        "description": "Additional information about the segment.\n\n| Value | Description |\n| --- | --- |\n| `ai` | The segment is an AI segment, or it contains an AI segment (if combined) |",
                                                        "items": {
                                                            "enum": [
                                                                "ai"
                                                            ]
                                                        }
                                                    },
                                                    "criteriaTypes": {
                                                        "type": "array",
                                                        "enum": [
                                                            "geo",
                                                            "behavior",
                                                            "si",
                                                            "contact"
                                                        ],
                                                        "description": "The criteria types used in the segment.\n\n**Notes**:\n- Applies to standard segments only.\n- Not returned when a single segment is requested.",
                                                        "items": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "baseContactListId": {
                                                        "type": "integer",
                                                        "description": "The identifier of the contact list the segment is based on. The value *0* means that it is based on all contacts.\n\n**Notes**:\n- Applies to standard segments only.\n- Not returned when a single segment is requested."
                                                    },
                                                    "predefinedSegmentId": {
                                                        "type": "integer",
                                                        "description": "The identifier of the predefined segment.\n\n**Note**: Not returned when a single segment is requested.              criteriaTsingle segment is requested."
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "",
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ],
                "parameters": [
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "path",
                        "description": "The indentifier of the segment. If provided, returns the details of the specified segment only.",
                        "name": "segmentId",
                        "required": true
                    }
                ]
            }
        },
        "/v3/filter/{segmentId}/contact_criteria": {
            "put": {
                "summary": "Update Contact Criteria in a Segment",
                "tags": [
                    "Segments"
                ],
                "description": "Updates the contact criteria of a specific segment.\n\nFor details on how the response body is structured, see [Create a segment](https://dev.emarsys.com/docs/emarsys-api/b3A6MjQ4OTk4NDY) endpoint.",
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "enum": [
                                                        "and",
                                                        "or"
                                                    ],
                                                    "description": "The grouping operator that defines the relationship betweem filter nodes."
                                                },
                                                "children": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "type": {
                                                                "enum": [
                                                                    "and",
                                                                    "or",
                                                                    "criteria"
                                                                ],
                                                                "description": "Defines the function of each node.\n- The grouping operator that defines the relationship between filter nodes.\n- The value 'criteria' indicates that the node is a contact criteria."
                                                            },
                                                            "field": {
                                                                "type": "string",
                                                                "description": "The field name used as criterion."
                                                            },
                                                            "operator": {
                                                                "type": "string",
                                                                "description": "The logical operator for caomparing the specified field and its value."
                                                            },
                                                            "value": {
                                                                "type": "string",
                                                                "description": "The value of the specified field."
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Response example:",
                        "$ref": "#/components/responses/default-response"
                    },
                    "404": {
                        "description": "Response example:",
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": {
                                        "enum": [
                                            "and",
                                            "or"
                                        ],
                                        "description": "The grouping operator that defines the realtionship between filter nodes."
                                    },
                                    "children": {
                                        "type": "array",
                                        "description": "Contains the defined criteria.\n\n**Note**: Additional conjuctions can be added as a separate children branch.",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "enum": [
                                                        "and",
                                                        "or",
                                                        "criteria"
                                                    ],
                                                    "description": "Defines the function of each node.\n- The grouping operator that defines the relationship between filter nodes.\n- The value 'criteria' indicates that the node is a contact criteria."
                                                },
                                                "field": {
                                                    "type": "string",
                                                    "description": "The field name used as criterion."
                                                },
                                                "operator": {
                                                    "type": "string",
                                                    "description": "The logical operator for comparing the specified field and its value."
                                                },
                                                "value": {
                                                    "type": "string",
                                                    "description": "The value of the specified field."
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "Example 1": {
                                    "value": {
                                        "type": "and",
                                        "children": [
                                            {
                                                "type": "criteria",
                                                "field": "gender",
                                                "operator": "equals",
                                                "value": "female"
                                            },
                                            {
                                                "type": "criteria",
                                                "field": "age",
                                                "operator": "greater_or_equal",
                                                "value": "22"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    }
                },
                "parameters": [
                    {
                        "schema": {
                            "type": "integer"
                        },
                        "in": "path",
                        "description": "The segment identifier.              **Note:** The identifier must not be *0*.",
                        "name": "segmentId",
                        "required": true
                    }
                ]
            },
            "get": {
                "summary": "Get Segment Contact Criteria",
                "tags": [
                    "Segments"
                ],
                "description": "Returns the contact criteria for the specified segment.\n\nFor details on how the response body is structured, see [Create a segment](https://dev.emarsys.com/docs/emarsys-api/b3A6MjQ4OTk4NDY) endpoint.",
                "parameters": [
                    {
                        "schema": {
                            "type": "integer"
                        },
                        "in": "path",
                        "description": "The segment identifier.              **Note:** The identifier must not be *0*.",
                        "name": "segmentId",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "type": {
                                                    "enum": [
                                                        "and",
                                                        "or"
                                                    ],
                                                    "description": "The grouping operator that defines the relationship betweem filter nodes."
                                                },
                                                "children": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "type": {
                                                                "enum": [
                                                                    "and",
                                                                    "or",
                                                                    "criteria"
                                                                ],
                                                                "description": "Defines the function of each node.\n- The grouping operator that defines the relationship between filter nodes.\n- The value 'criteria' indicates that the node is a contact criteria."
                                                            },
                                                            "field": {
                                                                "type": "string",
                                                                "description": "The field name used as criterion."
                                                            },
                                                            "operator": {
                                                                "type": "string",
                                                                "description": "The logical operator for caomparing the specified field and its value."
                                                            },
                                                            "value": {
                                                                "type": "string",
                                                                "description": "The value of the specified field."
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Example 1": {
                                        "value": {
                                            "type": "and",
                                            "children": [
                                                {
                                                    "type": "criteria",
                                                    "field": "gender",
                                                    "operator": "equals",
                                                    "value": "female"
                                                },
                                                {
                                                    "type": "criteria",
                                                    "field": "age",
                                                    "operator": "greater_or_equal",
                                                    "value": "22"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Response example:",
                        "$ref": "#/components/responses/default-response"
                    },
                    "404": {
                        "description": "Response example:",
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/{segmentId}/delete": {
            "get": {
                "summary": "Delete a Segment",
                "description": "Deletes a segment based on its `segmentId`.",
                "tags": [
                    "Segments"
                ],
                "operationId": "deleteSegment",
                "parameters": [
                    {
                        "schema": {
                            "type": "integer"
                        },
                        "in": "path",
                        "name": "segmentId",
                        "description": "The ID of the segment.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "$ref": "#/components/responses/default-response"
                    },
                    "400": {
                        "$ref": "#/components/responses/default-response"
                    },
                    "404": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/{segmentId}/contacts/count": {
            "get": {
                "summary": "Count Contacts in a Segment",
                "tags": [
                    "Segments"
                ],
                "description": "Provides the number of contacts in the specified segment.\n\n**Note:** This endpoint does not return data immediately because it requires further processing.",
                "operationId": "countContactsInSegment",
                "parameters": [
                    {
                        "schema": {
                            "type": "integer"
                        },
                        "name": "segmentId",
                        "in": "path",
                        "description": "The segment identifier.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "integer",
                                            "description": "The current number of contacts in the segment."
                                        }
                                    }
                                },
                                "examples": {
                                    "Example 1": {
                                        "value": {
                                            "replyCode": 0,
                                            "replyText": "string",
                                            "data": 0
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/{segmentId}/contacts/{contactId}": {
            "get": {
                "summary": "Look Up a Contact in a Segment",
                "tags": [
                    "Segments"
                ],
                "description": "Looks up a specific contact in a segment. If the segment includes the contact, returns `true`, otherwise returns `false`.",
                "operationId": "lookUpContactInSegment",
                "parameters": [
                    {
                        "schema": {
                            "type": "integer"
                        },
                        "name": "contactId",
                        "in": "path",
                        "description": "The contact identifier (`id`).",
                        "required": true
                    },
                    {
                        "schema": {
                            "type": "integer"
                        },
                        "name": "segmentId",
                        "in": "path",
                        "description": "The segment identifier.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "boolean",
                                            "description": "Returns `true` if the contact is included in the specified segment. Otherwise returns `false`."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/{segmentId}/single_runs": {
            "post": {
                "summary": "Run a Segment for a Single Contact",
                "tags": [
                    "Segments"
                ],
                "description": "Checks whether the specified contact is included in a segment and starts the segment running process.\n\n**Important:** Depending on the composition of the segment, the running time may take hours. Use the [Poll the status of a segment run for a single contact](https://dev.emarsys.com/docs/emarsys-api/b3A6MjQ4OTk4NTk) endpoint to check the status.",
                "operationId": "runContactSegmentSingle",
                "parameters": [
                    {
                        "schema": {
                            "type": "string"
                        },
                        "name": "segmentId",
                        "in": "path",
                        "description": "The identifier of the segment to run. Use the [List segments](https://dev.emarsys.com/docs/core-api-reference/74xbd653gcpzz-list-segments) endpoint to get the identifier.",
                        "required": true
                    },
                    {
                        "schema": {
                            "type": "number"
                        },
                        "name": "contact_id",
                        "in": "query",
                        "description": "Checks whether the contact specified by its internal identifier is included in the segment. Use the [List Contact Data](https://dev.emarsys.com/docs/core-api-reference/bmwrf7rjbt6q1-list-contact-data) or the [Get Internal Contact Identifiers](https://dev.emarsys.com/docs/core-api-reference/17lj2k744mxhf-get-internal-contact-identifiers) endpoint to get the internal identifier."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "object",
                                            "description": "Contains the requested data, if applicable.",
                                            "properties": {
                                                "run_id:": {
                                                    "type": "string",
                                                    "x-stoplight": {
                                                        "id": "bff8defkt0eol"
                                                    },
                                                    "description": "The identifier of the segment run. Provide this identifier on the [Poll the status of a segment run for a single contact](https://dev.emarsys.com/docs/core-api-reference/pumk7m9h92zxz-poll-the-status-of-a-segment-run-for-multiple-contacts) endpoint to check the status."
                                                },
                                                "status": {
                                                    "x-stoplight": {
                                                        "id": "1hoordy88ckws"
                                                    },
                                                    "enum": [
                                                        "done",
                                                        "error",
                                                        "waiting"
                                                    ],
                                                    "description": "The status of the segment run process."
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "$ref": "#/components/responses/default-response"
                    },
                    "404": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/single_runs/{runId}": {
            "get": {
                "summary": "Poll the Status of a Segment Run for a Single Contact",
                "tags": [
                    "Segments"
                ],
                "description": "Poll this endpoint to check the status of a started segment run of a single contact. Once the process is completed, returns whether the specified contact is included in the segment.\n \n **Note:** Use the [Run a segment for a single contact](https://dev.emarsys.com/docs/emarsys-api/b3A6MjQ4OTk4NTg) endpoint to initiate the segment run and specify the contact.",
                "operationId": "pollStatusContactSegmentSingle",
                "parameters": [
                    {
                        "schema": {
                            "type": "string"
                        },
                        "name": "runId",
                        "in": "path",
                        "description": "The identifier of the segment run. Get this identifier on the [Run a segment for a single contact](https://dev.emarsys.com/docs/core-api-reference/soo9n9urqo9do-run-a-segment-for-a-single-contact) endpoint to start the segment caclulation process.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "object",
                                            "description": "Contains the requested data, if applicable.",
                                            "properties": {
                                                "status": {
                                                    "x-stoplight": {
                                                        "id": "aav51sz8po03n"
                                                    },
                                                    "enum": [
                                                        "done",
                                                        "error",
                                                        "waiting"
                                                    ],
                                                    "description": "The status of the segment run process."
                                                },
                                                "result": {
                                                    "type": "object",
                                                    "x-stoplight": {
                                                        "id": "ahtri20o0hes3"
                                                    },
                                                    "properties": {
                                                        "is_in_segment": {
                                                            "type": "boolean",
                                                            "x-stoplight": {
                                                                "id": "w0twj92xdugs9"
                                                            },
                                                            "description": "Returns whether the specified contact is included n the segment."
                                                        }
                                                    }
                                                },
                                                "run_id": {
                                                    "type": "string",
                                                    "x-stoplight": {
                                                        "id": "xw81eeli8us37"
                                                    },
                                                    "description": "'The identifier of the segment run. Get this identifier on the [Run a segment for a single contact](https://dev.emarsys.com/docs/core-api-reference/soo9n9urqo9do-run-a-segment-for-a-single-contact) endpoint to start the segment caclulation process.'"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/{segmentId}/runs": {
            "post": {
                "summary": "Run a Segment for Multiple Contacts",
                "tags": [
                    "Segments"
                ],
                "description": "Starts the segment calculation process and returns information on the included contacts.\n\n**Important:** Depending on the composition of the segment, the running time may take hours. Use the [Poll the Status of a Segment Run for Multiple Contacts](https://dev.emarsys.com/docs/emarsys-api/b3A6MjQ4OTk4NjE) endpoint to check the status.",
                "operationId": "runContactSegmentBatch",
                "parameters": [
                    {
                        "schema": {
                            "type": "string"
                        },
                        "name": "segmentId",
                        "in": "path",
                        "description": "The identifier of the segment to run. Use the [List segments](https://dev.emarsys.com/docs/core-api-reference/74xbd653gcpzz-list-segments) endpoint to get the identifier.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful call.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "replyText": {
                                            "type": "string",
                                            "description": "The summary of the [response](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors)."
                                        },
                                        "data": {
                                            "type": "object",
                                            "description": "Contains the requested data, if applicable.",
                                            "properties": {
                                                "run_id:": {
                                                    "type": "string",
                                                    "description": "The identifier of the segment run. Provide this identifier on the [Poll the status of a segment run for a single contact](https://dev.emarsys.com/docs/core-api-reference/pumk7m9h92zxz-poll-the-status-of-a-segment-run-for-multiple-contacts) endpoint to check the status."
                                                },
                                                "status": {
                                                    "enum": [
                                                        "done",
                                                        "error",
                                                        "waiting"
                                                    ],
                                                    "description": "The status of the segment run process."
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        },
        "/v3/filter/runs/{runId}": {
            "get": {
                "summary": "Poll the Status of a Segment Run for Multiple Contacts",
                "tags": [
                    "Segments"
                ],
                "description": "Poll this endpoint to check the status of a started segment run of multiple contacts. Once the process is completed, returns information on the contacts included in the segment.\n \n **Note:** Use the [Run a Segment for Multiple Contacts](https://dev.emarsys.com/docs/emarsys-api/b3A6MjQ4OTk4NjA-run-a-segment-for-multiple-contacts) endpoint to initiate the segment run.\n \n **Note:** The contact list created as a result of the segment run is available for at least 12 hours. You can find its ID in the response: `contact_list_id`.",
                "operationId": "pollStatusContactSegmentBatch",
                "parameters": [
                    {
                        "schema": {
                            "type": "string"
                        },
                        "name": "runId",
                        "in": "path",
                        "description": "The identifier of the segment run. Get this identifier on the [Run a Segment for Multiple Contacts](https://dev.emarsys.com/docs/core-api-reference/9c9326k8ugqot-run-a-segment-for-multiple-contacts) endpoint to start the segment caclulation process.",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "replyCode": {
                                            "type": "integer",
                                            "x-stoplight": {
                                                "id": "cwzrbuqb9zedv"
                                            },
                                            "description": "The SAP Emarsys [response code](https://dev.emarsys.com/docs/core-api-reference/cnyqzhdnbl7r2-http-200-errors).",
                                            "default": 0
                                        },
                                        "replyText:": {
                                            "type": "string",
                                            "x-stoplight": {
                                                "id": "qsgkglkelbip2"
                                            },
                                            "description": "Additional information on the status of the request."
                                        },
                                        "data": {
                                            "type": "object",
                                            "x-stoplight": {
                                                "id": "csvz1zyaxjum6"
                                            },
                                            "description": "Contains the requested data, if applicable.",
                                            "properties": {
                                                "status": {
                                                    "x-stoplight": {
                                                        "id": "dbfphu9be1d0j"
                                                    },
                                                    "enum": [
                                                        "done",
                                                        "waiting",
                                                        "error"
                                                    ],
                                                    "description": "The status of the segment run process."
                                                },
                                                "result": {
                                                    "type": "object",
                                                    "x-stoplight": {
                                                        "id": "2zeu5tllm32uc"
                                                    },
                                                    "properties": {
                                                        "contact_list_id": {
                                                            "type": "number",
                                                            "x-stoplight": {
                                                                "id": "u32lbuj2pk96t"
                                                            },
                                                            "description": "The identifier of the contact list. To see which contacts are included, use the [Fetch Contacts in a Contact List](https://dev.emarsys.com/docs/core-api-reference/alri5e1skm4jp-fetch-contacts-in-a-contact-list) endpoint."
                                                        },
                                                        "user_count": {
                                                            "type": "number",
                                                            "x-stoplight": {
                                                                "id": "dygg1g4pn5akd"
                                                            },
                                                            "description": "The number of contacts in the segment."
                                                        },
                                                        "opi_in_count": {
                                                            "type": "number",
                                                            "x-stoplight": {
                                                                "id": "rvgyhqcm3g3uw"
                                                            },
                                                            "description": "The number of contacts with opt-in enabled."
                                                        },
                                                        "duration": {
                                                            "type": "number",
                                                            "x-stoplight": {
                                                                "id": "qg3l8udmfb3ed"
                                                            },
                                                            "description": "The duration of the segment running process in milliseconds."
                                                        }
                                                    }
                                                },
                                                "run_id": {
                                                    "type": "string",
                                                    "x-stoplight": {
                                                        "id": "w1d9m4i0mwgnr"
                                                    },
                                                    "description": "'The identifier of the segment run. Provide this identifier on the [Poll the status of a segment run for a single contact](https://dev.emarsys.com/docs/core-api-reference/pumk7m9h92zxz-poll-the-status-of-a-segment-run-for-multiple-contacts) endpoint to check the status.'"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "description": "Successful call."
                    },
                    "404": {
                        "$ref": "#/components/responses/default-response"
                    }
                },
                "security": [
                    {
                        "oauth2ClientCredentials": []
                    }
                ]
            }
        }
    },
    "security": [
        {
            "oauth2ClientCredentials": []
        }
    ],
    "components": {
        "schemas": {
            "default-response-example": {
                "title": "Default response",
                "type": "object",
                "properties": {
                    "replyCode": {
                        "type": "integer",
                        "description": "The Emarsys response code. Successful requests return 0; otherwise, see [errors](https://dev.emarsys.com/docs/core-api-reference/jir98la21pufy-http-400-errors)."
                    },
                    "replyText": {
                        "type": "string",
                        "description": "Additional informationon the status of the request."
                    },
                    "data": {
                        "type": "object",
                        "description": "Contains the requested data, if applicable."
                    }
                },
                "description": "This is the generic SAP Emarsys response.",
                "x-examples": {
                    "Example 1": {
                        "replyCode": 0,
                        "replyText": "string",
                        "data": {}
                    }
                }
            }
        },
        "securitySchemes": {
            "oauth2ClientCredentials": {
                "type": "oauth2",
                "flows": {
                    "clientCredentials": {
                        "tokenUrl": "https://{host}/oauth2/token",
                        "scopes": {}
                    }
                },
                "description": "To use this API, you must first obtain an OAuth 2.0 client credentials token. After that you can use the token to call the API. For more information, see [Authentication](https://dev.emarsys.com/docs/emarsys-core-api-guides/branches/OAuth-2.0/b3c3a1eba8515-authentication-in-v3-api)."
            }
        },
        "responses": {
            "default-response": {
                "description": "Response example:",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "#/components/schemas/default-response-example"
                        },
                        "examples": {
                            "Example 1": {
                                "value": {
                                    "replyCode": 0,
                                    "replyText": "string",
                                    "data": {}
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}