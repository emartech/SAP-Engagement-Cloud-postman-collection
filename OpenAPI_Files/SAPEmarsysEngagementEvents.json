{"openapi":"3.0.3","info":{"title":"SAP Emarsys Engagement Events","description":"The SAP Emarsys Engagement Events API helps you to import behavior-based event data of your contacts from any source system into SAP Emarsys.","version":"1.0.0"},"externalDocs":{"description":"SAP Emarsys Engagement Events API","url":""},"x-sap-shortText":"This API is used to import behavioral event data, triggered by your contacts and collected in any source system, into your SAP Emarsys system.","servers":[{"url":"https://{host}/api/engagementevent/v1","variables":{"host":{"default":"api.emarsys.net"}}}],"x-sap-stateInfo":{"state":"active"},"components":{"securitySchemes":{"oAuth2ClientCredentials":{"type":"oauth2","description":"To use this API, you must first obtain an access token (JWT) using the OAuth 2.0 client credentials grant. Afterwards you can use the token to call the API.","flows":{"clientCredentials":{"tokenUrl":"https://{authHost}/oauth2/token","scopes":{}}}}},"schemas":{"error":{"type":"object","required":["error"],"properties":{"error":{"type":"object","required":["code","message"],"properties":{"code":{"type":"string"},"message":{"type":"string"},"target":{"type":"string"},"details":{"type":"array","items":{"type":"object","required":["code","message"],"properties":{"code":{"type":"string"},"message":{"type":"string"},"target":{"type":"string"}}}},"innererror":{"type":"object","description":"The structure of this object is service-specific"}}}}}},"responses":{"error":{"description":"Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/error"}}}}}},"paths":{"/integrations/{integrationId}/eventConfigurations/{eventConfigurationId}/events":{"post":{"description":"Ingest an event to be processed by the Engagement Events API","summary":"Engagement Events","tags":["Engagement Events"],"parameters":[{"name":"integrationId","in":"path","description":"ID of the integration to which the event refers, whereby an integration represents the source system of the event.","required":true,"schema":{"type":"string"}},{"name":"eventConfigurationId","in":"path","description":"ID of the event configuration which relates to the event, whereby in the event configuration you define the events to be considered.","required":true,"schema":{"type":"string"}},{"name":"draft","in":"query","schema":{"type":"boolean"},"description":"Indicates whether the event should be processed by the draft version or the active version of the event configuration."}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object"},"examples":{"delivery":{"summary":"Delivery Sent","value":{"customer":{"name":"John Smith","email":"john.smith@emarsys.com"},"delivery_method":"Parcel Pulse","order_created_date":"2024-08-19T09:53:24Z","notification_status":"1","tracking_id":"PPID_7551f33984023208096527"}},"logged_in":{"summary":"Customer logged in","value":{"event_id":"eventId:39aeae3e-7a5e-47b6-b7b3-90dcdb99dbdd","event_time":"2024-08-05T12:07:48+02:00","customer_system_user_id":"12345678"}},"loyalty_level_changed":{"summary":"Customer loyalty level changed","value":{"actual_amount_bonus_points":0,"event_id":"eventId:f165c2af-e792-4ee6-afff-25692798f986","event_time":"2024-08-05T14:51:18+02:00","incentive_ids":[],"level_name":"NEWCOMER","lifetime_bonus_points":0,"customer_system_user_id":"12345678"}}}}}},"responses":{"202":{"description":"Accepted"},"400":{"description":"Bad Request","$ref":"#/components/responses/error"},"401":{"description":"Unauthorized","$ref":"#/components/responses/error"},"403":{"description":"Forbidden","$ref":"#/components/responses/error"},"404":{"description":"Not Found","$ref":"#/components/responses/error"},"413":{"description":"Content Too Large","$ref":"#/components/responses/error"},"422":{"description":"Unprocessable Content","$ref":"#/components/responses/error"},"500":{"description":"Internal Server Error","$ref":"#/components/responses/error"}}}}}}